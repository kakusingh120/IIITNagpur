<% layout('./admin/layout/boilerplate.ejs') -%>

<body>
    <div class="container mt-4">
        <!-- Add New Button -->
        <div class="row mb-4">
            <div class="col">
                <a href="/admin/studentTestimonial/new" class="btn btn-success">
                    <i class="bi bi-plus-circle"></i> Add New Testimonial
                </a>
            </div>
        </div>
        
        <!-- Existing Cards -->
        <div class="row">
            <% data.forEach(item => { %>
            <div class="col-md-3 mb-4">
                <div class="card h-100 shadow-sm d-flex flex-column">
                    <!-- Rest of your existing card code -->
                    <div class="text-center mt-3">
                        <img src="<%= item.image %>" class="rounded-circle" alt="<%= item.name %>'s photo" 
                            style="height: 200px; width: 200px; object-fit: cover; object-position: top;">
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title"> <b>Name :</b><%= item.name %></h5>
                        <p class="card-text text-muted mb-1">
                            <small> <b>Reg. No:</b> <%= item.registrationNumber %></small>
                        </p>
                        <p class="card-text mb-2">
                            <i class="bi bi-telephone"></i> <b><%= item.mobileNumber %></b><br>
                            <i class="bi bi-envelope"></i> <b><%= item.email %></b>
                        </p>
                        <p class="card-text"> <b>Content : </b><%= item.content %></p>
                        <div class="d-flex justify-content-between align-items-center gap-2 mt-auto">
                            <a href="/admin/studentTestimonial/<%= item._id %>" class="btn btn-primary btn-sm flex-grow-1">
                                <i class="bi bi-pencil"></i> Edit
                            </a>
                            <form action="/admin/studentTestimonial/<%= item._id %>?_method=DELETE" method="POST" class="flex-grow-1">
                                <button type="submit" class="btn btn-danger btn-sm w-100" onclick="return confirm('Are you sure you want to delete this testimonial?')">
                                    <i class="bi bi-trash"></i> Delete
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <% }); %>
        </div>
    </div>
</body>
